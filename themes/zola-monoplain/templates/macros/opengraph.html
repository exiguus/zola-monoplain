{% macro description() %} {%- if section -%} {%- if section.description -%} {{
section.description }} {%- else -%} {{ config.description }} {%- endif -%} {%-
elif page -%} {%- if page.summary | string -%} {{ page.summary | striptags |
truncate(length=200) }} {%- elif page.description -%} {{ page.description }} {%-
else -%} {{ config.description }} {%- endif -%} {%- endif -%} {% endmacro
description %} {% macro title() %} {%- if section -%} {%- if section.title -%}
{{ section.title | striptags }}{%- else -%} {{ config.description }}{%- endif
-%} {%- elif page -%} {%- if page.title -%} {{ page.title | striptags }} {%-
else -%} {{ config.description }} {%- endif -%} {%- elif term -%} {%- if
term.name -%} {{ term.name | striptags }} {%- else -%} {{ config.description }}
{%- endif -%} {%- elif taxonomy -%} {%- if taxonomy.name -%} {{ taxonomy.name |
striptags }} {%- else -%} {{ config.description }} {%- endif -%} {%- endif -%}
{% endmacro title %} {% macro image() %} {%- if page.extra.preview_img -%} {%-
if page.extra.preview_img is starting_with("/") or page.extra.preview_img is
containing("://") -%} {{ page.extra.preview_img | safe }} {%- else -%} {% set
image = resize_image(path=page.path ~ page.extra.preview_img, width=1200,
height=630) -%} {{ image.url | safe }} {%- endif -%} {%- else -%} {% set image =
resize_image(path='images/og-preview.png', width=1200, height=630) -%} {{
image.url }} {%- endif -%} {% endmacro image %}
